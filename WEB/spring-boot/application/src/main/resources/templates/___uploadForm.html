<html xmlns:th="https://www.thymeleaf.org">
<head>
    <link rel="stylesheet" href="style.css">
</head>

<body>
	<form action="upload" method="post" enctype="multipart/form-data">

        파일을 업로드 하여 예측합니다
		<label class="file">
				Drop a file or click to select one
				<input type="file" name="file">
				
				<!-- use multiple, even if it’s not allowed, to be able to show an info text -->
		</label>

		{% comment %} <input type="submit" value="업로드"> {% endcomment %}

	</form>


    <input type="button" value="fetch" onclick="
    fetch('upload').then(function(response){
        response.text().then(function(text){
			document.querySelector('article').innerHTML = text2;

			fetch('predict').then(function(response2){
        	response2.text().then(function(text2){

            	document.querySelector('article').innerHTML = text2;

        })
    });
	">





    <script>
        $(document).ready(function() {
		$('input[type=file]').change(function() {
				//console.log(this.files);
				var f = this.files;
				var el = $(this).parent();
				if (f.length > 1) {
						console.log(this.files, 1);
						el.text('Sorry, multiple files are not allowed');
						return;
				}
				// el.removeClass('focus');
				el.html(f[0].name + '<br>' +
						'<span class="sml">' +
						'type: ' + f[0].type + ', ' +
						Math.round(f[0].size / 1024) + ' KB</span>');
		});

		$('input[type=file]').on('focus', function() {
				$(this).parent().addClass('focus');
		});

		$('input[type=file]').on('blur', function() {
				$(this).parent().removeClass('focus');
		});

});
    </script>

</body>

</html>